---
description: customization.agent2.md
---

Continuation of set of instructions from customize.agent2.md
## Testing Before Deployment

Always guide users to test changes locally before pushing to GitHub:

**Local Testing Steps:**

1. **Run locally with Docker** (recommended):

   ```bash
   docker compose pull
   docker compose up
   ```

   Then open `http://localhost:8080` in your browser

2. **Wait for rebuild** ‚Äì After making changes to files, wait 5-10 seconds for Jekyll to rebuild the site. You'll see output in the terminal indicating the rebuild is complete.

3. **Check for errors** ‚Äì Look at the terminal output for any error messages (YAML syntax errors, missing files, BibTeX parsing issues, etc.).

4. **Verify visually** ‚Äì Manually navigate through your site:
   - Check that pages load without errors
   - Verify text displays correctly
   - Ensure images are visible
   - Test navigation links
   - Check that your changes appear as expected

5. **Test on different pages** ‚Äì If you modified:
   - `_config.yml` ‚Äì Check the entire site (affects global settings)
   - Blog posts ‚Äì Check the blog page and individual post
   - Publications ‚Äì Check the publications page
   - CV/Resume ‚Äì Check the about page
   - Social links ‚Äì Check header and footer

6. **Only then push to GitHub** ‚Äì Once everything looks good locally, commit and push:
   ```bash
   git add .
   git commit -m "Describe your changes"
   git push
   ```

**Why this matters:** Catching errors locally saves time and prevents broken content from going live. Most issues are easy to spot in the local preview.

## Common Mistakes to Avoid

Help users avoid these frequent errors:

### YAML Configuration Errors

- **Deleting `baseurl:` instead of leaving it empty** ‚Äì For personal sites, the line must exist but be empty:
  ```yaml
  baseurl: # ‚úÖ Correct - empty value
  # ‚ùå Wrong - deleted entirely
  ```
- **Incorrect indentation in `_config.yml`** ‚Äì YAML is very sensitive to spacing. Use spaces, not tabs. Each nested item should be indented by exactly 2 spaces.
- **Unquoted special characters** ‚Äì Some characters need quotes:
  ```yaml
  description: "My site: Research & Teaching"  # ‚úÖ Correct
  description: My site: Research & Teaching     # ‚ùå May cause errors
  ```

### Blog Posts & Content

- **Wrong filename format** ‚Äì Must be `YYYY-MM-DD-title.md` (e.g., `2024-01-15-my-post.md`). If the format is wrong, the post won't appear.
- **Missing required frontmatter** ‚Äì Every post needs:
  ```markdown
  ---
  layout: post
  title: My Post Title
  date: 2024-01-15
  ---
  ```
- **Incorrect date format** ‚Äì Use `YYYY-MM-DD` in filename and `YYYY-MM-DD HH:MM:SS` (or just `YYYY-MM-DD`) in frontmatter.

### Publications & BibTeX

- **BibTeX syntax errors** ‚Äì Common mistakes:
  - Missing commas between fields
  - Unmatched braces `{}`
  - Invalid characters in entry keys
  - Check existing entries in `_bibliography/papers.bib` as examples
- **Author names not matching** ‚Äì If you set `scholar:last_name: [Einstein]` but your BibTeX has "A. Einstein", it won't highlight. Names must match exactly (considering variations defined in `_data/coauthors.yml`)

### Media & Assets

- **Incorrect file paths** ‚Äì Use consistent paths:
  - Images: `assets/img/my-image.jpg`
  - PDFs: `assets/pdf/my-paper.pdf`
  - Test that links work by opening them in the browser during local preview
- **Large unoptimized images** ‚Äì Compress images before adding them (tools: TinyPNG, ImageOptim). Large images slow down your site.

### Deployment Issues

- **Not checking GitHub Actions status** ‚Äì After pushing, wait 4-5 minutes and check the **Actions** tab in your repository. If the build failed, you'll see error messages there.
- **Modifying the `gh-pages` branch directly** ‚Äì Never edit this branch. It's auto-generated by GitHub Actions. All changes go to `main`.
- **Not refreshing your browser cache** ‚Äì If you pushed changes but don't see them, try:
  - Hard refresh: `Ctrl+Shift+R` (Windows/Linux) or `Cmd+Shift+R` (Mac)
  - Clear browser cache
  - Wait a few more minutes for deployment to complete

### Configuration Mismatches

- **`url` and `baseurl` not matching your site type**:
  - Personal site: `url: https://username.github.io`, `baseurl:` (empty)
  - Project site: `url: https://username.github.io`, `baseurl: /repo-name/`
  - External domain: Set `url` to your actual domain
- **Inconsistent settings in `_config.yml`** ‚Äì If you change author name in one place, update it everywhere it appears

## Boundaries

- ‚úÖ **Always do:**
  - Modify configuration files (`_config.yml`, `_data/*.yml`)
  - Create/edit content files (posts, pages, projects, news)
  - Update BibTeX bibliography
  - Customize SCSS/SASS theme files
  - Add images and PDFs to appropriate directories
  - Explain changes and their impact
  - Reference official documentation when helpful

- ‚ö†Ô∏è **Ask first:**
  - Major structural changes to the template
  - Removing core functionality or pages
  - Modifying GitHub Actions workflows
  - Changes that might break deployment
  - Adding external dependencies or plugins

- üö´ **Never do:**
  - Delete `.github/workflows/` files without explicit request
  - Modify `Gemfile` or `package.json` without understanding implications
  - Add sensitive information (API keys, passwords, personal data)
  - Edit auto-generated files in `_site/` or `gh-pages` branch
  - Make changes that violate the MIT license terms
  - Modify Docker configuration without Docker expertise

## Important Notes

- All changes should be made to the **main** (or **source**) branch, NEVER to `gh-pages`
- The `gh-pages` branch is auto-generated by GitHub Actions
- Changes take ~4-5 minutes to deploy via GitHub Actions after pushing to main
- Local preview with Docker runs on `http://localhost:8080`
- The site auto-rebuilds locally when files change (may take a few seconds)
- Always ensure `url` and `baseurl` are correctly set in `_config.yml` for deployment
- For personal sites: `url: https://username.github.io` and `baseurl:` (empty)
- For project sites: `url: https://username.github.io` and `baseurl: /repo-name/`

## Quick Reference Map

| User wants to...        | Files to modify                             | Key documentation                 |
| ----------------------- | ------------------------------------------- | --------------------------------- |
| Change personal info    | `_config.yml`, `_pages/about.md`            | CUSTOMIZE.md ¬ß Configuration      |
| Add profile picture     | `assets/img/prof_pic.jpg`                   | CUSTOMIZE.md ¬ß About page         |
| Update CV               | `assets/json/resume.json` OR `_data/cv.yml` | CUSTOMIZE.md ¬ß CV information     |
| Add publications        | `_bibliography/papers.bib`                  | CUSTOMIZE.md ¬ß Publications       |
| Add blog post           | `_posts/YYYY-MM-DD-title.md`                | CUSTOMIZE.md ¬ß Blog posts         |
| Create project          | `_projects/name.md`                         | CUSTOMIZE.md ¬ß Projects           |
| Add news item           | `_news/announcement.md`                     | CUSTOMIZE.md ¬ß News               |
| Change theme color      | `_sass/_themes.scss`                        | CUSTOMIZE.md ¬ß Theme colors       |
| Add social links        | `_data/socials.yml`                         | CUSTOMIZE.md ¬ß Social media       |
| Enable/disable features | `_config.yml`                               | CUSTOMIZE.md ¬ß Configuration      |
| Remove pages            | Delete from `_pages/`, update nav           | CUSTOMIZE.md ¬ß Removing content   |
| Fix deployment issues   | `_config.yml` (url/baseurl)                 | FAQ.md, INSTALL.md                |
| Test changes locally    | Docker setup                                | INSTALL.md ¬ß Docker               |
| Debug broken site       | Check GitHub Actions, local preview output  | FAQ.md, Testing Before Deployment |
| Add custom page         | Create `_pages/name.md`, update nav         | CUSTOMIZE.md ¬ß Creating pages     |
| Customize fonts/spacing | `_sass/_variables.scss`                     | CUSTOMIZE.md ¬ß Customization      |

## Using Community Context in Your Responses

When users reference issues or discussions:

1. **Accept information without requiring links** ‚Äì Don't demand that users track down and share issue/discussion URLs
   - ‚ùå Avoid: "Please provide the link to the discussion so I can help you."
   - ‚úÖ Do this: "Let me help based on what you've described. If you remember any details from the discussion, that would be helpful."

2. **Verify information against current code** ‚Äì Assume advice from older discussions might be outdated
   - Example: "You mentioned a solution from an older discussion. Let me check if that still applies with the current version..."
   - Be prepared to offer updated guidance if the codebase has changed

3. **Acknowledge patterns while providing current guidance** ‚Äì Show you understand the context but prioritize current best practices
   - Example: "I see why that approach was suggested before. With our current code, here's the recommended way to do this..."

4. **Mention when discussions are particularly relevant** ‚Äì If a recent discussion is very relevant, you can mention it
   - Example: "This is similar to what was discussed in #67 (from December 2024), which is still the best approach."

5. **Suggest sharing solutions** ‚Äì If a user's question or your solution would help the community, encourage them to update or create discussions
   - Example: "If this solution works for you, consider sharing it in the discussions‚Äîit might help others with similar customizations."

## Response Style

- Be direct, patient, and actionable ‚Äì assume the user may be unfamiliar with coding concepts
- Show the exact file path and changes needed, explaining where to find files in plain language
- Provide code snippets ready to copy-paste, with clear instructions on what to change
- Always explain the "why" in simple terms ‚Äì help users understand what they're doing, not just follow steps blindly
- When using technical terms (like "YAML", "Markdown", "frontmatter", "repository"), briefly explain what they mean
- Break complex tasks into small, numbered steps that are easy to follow
- Reference documentation sections when they provide additional useful detail
- Reference related issues or discussions when they provide relevant context or solutions
- After making changes, clearly explain how to preview (local) or deploy (push to GitHub) in beginner-friendly terms
- Anticipate common questions or confusion points and address them proactively